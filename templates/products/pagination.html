<div class="pagination">
    {% if page_obj.has_previous %}
        <a href="?page={{ page_obj.previous_page_number }}{% if request.GET.min_price %}&min_price={{ request.GET.min_price }}{% endif %}{% if request.GET.max_price %}&max_price={{ request.GET.max_price }}{% endif %}"><span>&lt;</span></a>
    {% endif %}
    {% if page_obj.number > 3 %}
        <a class="pagination-number" href="?page=1">1</a>
        <span class="pagination-ellipsis">...</span>
    {% endif %}
    {% for num in page_obj.paginator.page_range %}
        {% if num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
            {% if page_obj.number == num %}
                <span class="pagination-number pagination-current">{{ num }}</span>
            {% else %}
                <a class="pagination-number"
                   href="?page={{ num }}{% if request.GET.min_price %}&min_price={{ request.GET.min_price }}{% endif %}{% if request.GET.max_price %}&max_price={{ request.GET.max_price }}{% endif %}">{{ num }}</a>
            {% endif %}
        {% endif %}
    {% endfor %}
    {% if page_obj.number < page_obj.paginator.num_pages|add:'-3' %}
        <span class="pagination-ellipsis">...</span>
        <a class="pagination-number"
           href="?page={{ page_obj.paginator.num_pages }}{% if request.GET.min_price %}&min_price={{ request.GET.min_price }}{% endif %}{% if request.GET.max_price %}&max_price={{ request.GET.max_price }}{% endif %}">{{ page_obj.paginator.num_pages }}</a>
    {% endif %}
    {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}{% if request.GET.min_price %}&min_price={{ request.GET.min_price }}{% endif %}{% if request.GET.max_price %}&max_price={{ request.GET.max_price }}{% endif %}"><span>&gt;</span></a>
    {% endif %}
</div>
